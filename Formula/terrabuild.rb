# This file was generated by https://github.com/magnusopera/terrabuild/blob/main/.github/scripts/generate-homebrew-tap
class Terrabuild < Formula
  desc "Seamless CI/CD tool for building and deploying monorepos."
  homepage "https://terrabuild.io"
  version "0.145.0"

  if OS.mac? && Hardware::CPU.intel?
    url "https://github.com/magnusopera/terrabuild/releases/download/0.145.0/terrabuild-0.145.0-darwin-x64.zip"
    sha256 "43c9de6b838189c8e12910ff6b0d74e52b94b2941d80ee21782f5bf68cc2845e"
  end

  if OS.mac? && Hardware::CPU.arm?
    url "https://github.com/magnusopera/terrabuild/releases/download/0.145.0/terrabuild-0.145.0-darwin-arm64.zip"
    sha256 "b64c0d07e17492df8d538b67f3912de68c9fe994df9da72bf9ef3d115e13df76"
  end

  if OS.linux? && Hardware::CPU.intel?
    url "https://github.com/magnusopera/terrabuild/releases/download/0.145.0/terrabuild-0.145.0-linux-x64.zip"
    sha256 "94cea7760ae9a364279e041bdeddffb5f9ebf0048068e95ea3866ea9110ac7b9"
  end

  if OS.linux? && Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
    url "https://github.com/magnusopera/terrabuild/releases/download/0.145.0/terrabuild-0.145.0-linux-arm64.zip"
    sha256 "96cb1778b9038e5d7245df97f0117613b28f35187a7ff82e437634408a5edea6"
  end

  conflicts_with "terrabuild"
  conflicts_with "terrabuild-next"

  def install
    bin.install "terrabuild"
  end

  test do
    system "#{bin}/terrabuild version"
  end
end
