# This file was generated by https://github.com/magnusopera/terrabuild/blob/main/.github/scripts/generate-homebrew-tap
class Terrabuild < Formula
  desc "Seamless CI/CD tool for building and deploying monorepos."
  homepage "https://terrabuild.io"
  version "0.162.3"

  if OS.mac? && Hardware::CPU.intel?
    url "https://github.com/magnusopera/terrabuild/releases/download/0.162.3/terrabuild-0.162.3-darwin-x64.zip"
    sha256 "00d583a6087999ea7ba8e696a29563826162798b1ee69c9e21d303d248e509f2"
  end

  if OS.mac? && Hardware::CPU.arm?
    url "https://github.com/magnusopera/terrabuild/releases/download/0.162.3/terrabuild-0.162.3-darwin-arm64.zip"
    sha256 "2a7951cd094719b8d174a02b07f24bed71515d34182dbcc4618791c35e5050ca"
  end

  if OS.linux? && Hardware::CPU.intel?
    url "https://github.com/magnusopera/terrabuild/releases/download/0.162.3/terrabuild-0.162.3-linux-x64.zip"
    sha256 "e178e4b79cb8e3bc02fccfe9f619dc3a696383d890387417eac692af5b4b2026"
  end

  if OS.linux? && Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
    url "https://github.com/magnusopera/terrabuild/releases/download/0.162.3/terrabuild-0.162.3-linux-arm64.zip"
    sha256 "09456efa7852ea86405f620bfe90dc71bc87ff6bf9a96610f01989603a411789"
  end

  conflicts_with "terrabuild"
  conflicts_with "terrabuild-next"

  def install
    bin.install "terrabuild"
  end

  test do
    system "#{bin}/terrabuild version"
  end
end
