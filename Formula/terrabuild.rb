# This file was generated by https://github.com/magnusopera/terrabuild/blob/main/.github/scripts/generate-homebrew-tap
class Terrabuild < Formula
  desc "Seamless CI/CD tool for building and deploying monorepos."
  homepage "https://terrabuild.io"
  version "0.151.2"

  if OS.mac? && Hardware::CPU.intel?
    url "https://github.com/magnusopera/terrabuild/releases/download/0.151.2/terrabuild-0.151.2-darwin-x64.zip"
    sha256 "40648a695b7a5b36815f7dbf39f7da52a1d2ab483f29a8ca55b35c1da02aa36d"
  end

  if OS.mac? && Hardware::CPU.arm?
    url "https://github.com/magnusopera/terrabuild/releases/download/0.151.2/terrabuild-0.151.2-darwin-arm64.zip"
    sha256 "87424149dc9e03ea9ab3c89cb25c03a5d3aab0db6f61715f83d747f3325ccd94"
  end

  if OS.linux? && Hardware::CPU.intel?
    url "https://github.com/magnusopera/terrabuild/releases/download/0.151.2/terrabuild-0.151.2-linux-x64.zip"
    sha256 "f7c680df66aebac7d108cd05cd97cbb620185620ed745d9d9c35d6b19b90e6eb"
  end

  if OS.linux? && Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
    url "https://github.com/magnusopera/terrabuild/releases/download/0.151.2/terrabuild-0.151.2-linux-arm64.zip"
    sha256 "8258d6c20a23660794fe8cd374bf761f5e0da82b21d61e58c953312455e695d8"
  end

  conflicts_with "terrabuild"
  conflicts_with "terrabuild-next"

  def install
    bin.install "terrabuild"
  end

  test do
    system "#{bin}/terrabuild version"
  end
end
