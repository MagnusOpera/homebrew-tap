# This file was generated by https://github.com/magnusopera/terrabuild/blob/main/.github/scripts/generate-homebrew-tap
class Terrabuild < Formula
  desc "Seamless CI/CD tool for building and deploying monorepos."
  homepage "https://terrabuild.io"
  version "0.167.1"

  if OS.mac? && Hardware::CPU.intel?
    url "https://github.com/magnusopera/terrabuild/releases/download/0.167.1/terrabuild-0.167.1-darwin-x64.zip"
    sha256 "4c5e143d422ff7c8d1909ec0fc70b553a70937e28073eda17d791a7350c299d2"
  end

  if OS.mac? && Hardware::CPU.arm?
    url "https://github.com/magnusopera/terrabuild/releases/download/0.167.1/terrabuild-0.167.1-darwin-arm64.zip"
    sha256 "f9780c7e62b2ae5e02e28a07b28bf8d8458f3220394c91357e2003d9442cdca9"
  end

  if OS.linux? && Hardware::CPU.intel?
    url "https://github.com/magnusopera/terrabuild/releases/download/0.167.1/terrabuild-0.167.1-linux-x64.zip"
    sha256 "9e8ecaa2d770515f87387b26ccebd5ae8eb2af23d419ab9a0a1913afcc09f7b2"
  end

  if OS.linux? && Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
    url "https://github.com/magnusopera/terrabuild/releases/download/0.167.1/terrabuild-0.167.1-linux-arm64.zip"
    sha256 "5f3185cb32ce1351b5447922e7dfd74a5ce2571631f776709eb1f76a5222f10a"
  end

  conflicts_with "terrabuild"
  conflicts_with "terrabuild-next"

  def install
    bin.install "terrabuild"
  end

  test do
    system "#{bin}/terrabuild version"
  end
end
