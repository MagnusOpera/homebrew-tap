# This file was generated by https://github.com/magnusopera/terrabuild/blob/main/.github/scripts/generate-homebrew-tap
class Terrabuild < Formula
  desc "Seamless CI/CD tool for building and deploying monorepos."
  homepage "https://terrabuild.io"
  version "0.167.0"

  if OS.mac? && Hardware::CPU.intel?
    url "https://github.com/magnusopera/terrabuild/releases/download/0.167.0/terrabuild-0.167.0-darwin-x64.zip"
    sha256 "4b904af8ee1dbfba3792e6c259f0fb3c413e5f789ca489218d059450a5531212"
  end

  if OS.mac? && Hardware::CPU.arm?
    url "https://github.com/magnusopera/terrabuild/releases/download/0.167.0/terrabuild-0.167.0-darwin-arm64.zip"
    sha256 "11ad58aa5c8ee05a99000afe40d83853ba84bfac1cca2c9f7a20b111af72bf9f"
  end

  if OS.linux? && Hardware::CPU.intel?
    url "https://github.com/magnusopera/terrabuild/releases/download/0.167.0/terrabuild-0.167.0-linux-x64.zip"
    sha256 "5312101a6a72313043d42038508f3911540e6fe58cce7671e7b2aabb2da519fb"
  end

  if OS.linux? && Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
    url "https://github.com/magnusopera/terrabuild/releases/download/0.167.0/terrabuild-0.167.0-linux-arm64.zip"
    sha256 "1a40d305b866f5943e0538cedd899f678b47b5b0c8c546840a48944bbaed8dc7"
  end

  conflicts_with "terrabuild"
  conflicts_with "terrabuild-next"

  def install
    bin.install "terrabuild"
  end

  test do
    system "#{bin}/terrabuild version"
  end
end
