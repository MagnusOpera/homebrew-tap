# This file was generated by https://github.com/magnusopera/terrabuild/blob/main/.github/scripts/generate-homebrew-tap
class Terrabuild < Formula
  desc "Seamless CI/CD tool for building and deploying monorepos."
  homepage "https://terrabuild.io"
  version "0.185.16"

  if OS.mac? && Hardware::CPU.intel?
    url "https://github.com/magnusopera/terrabuild/releases/download/0.185.16/terrabuild-0.185.16-darwin-x64.zip"
    sha256 "5f82cf6f43bf56a1191de363d5469b4691ef104471e93620348411e2c58ca492"
  end

  if OS.mac? && Hardware::CPU.arm?
    url "https://github.com/magnusopera/terrabuild/releases/download/0.185.16/terrabuild-0.185.16-darwin-arm64.zip"
    sha256 "438df9d138bdcbd7d62c7750b892517d9796e0f198cabc6ca67f365a38682e11"
  end

  if OS.linux? && Hardware::CPU.intel?
    url "https://github.com/magnusopera/terrabuild/releases/download/0.185.16/terrabuild-0.185.16-linux-x64.zip"
    sha256 "3a5cc3361180eb335d30801c3114bd87de0ad921264080fc9c5fef00a4f36027"
  end

  if OS.linux? && Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
    url "https://github.com/magnusopera/terrabuild/releases/download/0.185.16/terrabuild-0.185.16-linux-arm64.zip"
    sha256 "313c271d18df3c92295b63b4992b399f6e05743b1e75ad6a07caf4ca83067bbb"
  end

  conflicts_with "terrabuild"
  conflicts_with "terrabuild-next"

  def install
    bin.install "terrabuild"
  end

  test do
    system "#{bin}/terrabuild version"
  end
end
