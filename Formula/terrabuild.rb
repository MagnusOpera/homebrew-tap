# This file was generated by https://github.com/magnusopera/terrabuild/blob/main/.github/scripts/generate-homebrew-tap
class Terrabuild < Formula
  desc "Seamless CI/CD tool for building and deploying monorepos."
  homepage "https://terrabuild.io"
  version "0.184.2"

  if OS.mac? && Hardware::CPU.intel?
    url "https://github.com/magnusopera/terrabuild/releases/download/0.184.2/terrabuild-0.184.2-darwin-x64.zip"
    sha256 "cdf1ee0a4a5813115abc2ab6d4064ea81ba4f858c3f0a94029e00d1940086bc0"
  end

  if OS.mac? && Hardware::CPU.arm?
    url "https://github.com/magnusopera/terrabuild/releases/download/0.184.2/terrabuild-0.184.2-darwin-arm64.zip"
    sha256 "74520dcde8403387e7a88e5c0562efaf4fbd4db35481742f6f3c518ad51734da"
  end

  if OS.linux? && Hardware::CPU.intel?
    url "https://github.com/magnusopera/terrabuild/releases/download/0.184.2/terrabuild-0.184.2-linux-x64.zip"
    sha256 "ba80cfb97986dd5264598d46a9755a7f46b2a4d3c72392168c96ca3bf40399ff"
  end

  if OS.linux? && Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
    url "https://github.com/magnusopera/terrabuild/releases/download/0.184.2/terrabuild-0.184.2-linux-arm64.zip"
    sha256 "7df9e0476fffae8e56b7e1c4d697a5ef426c02ce0e8a7980afde60ae343a5dc0"
  end

  conflicts_with "terrabuild"
  conflicts_with "terrabuild-next"

  def install
    bin.install "terrabuild"
  end

  test do
    system "#{bin}/terrabuild version"
  end
end
