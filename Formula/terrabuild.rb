# This file was generated by https://github.com/magnusopera/terrabuild/blob/main/.github/scripts/generate-homebrew-tap
class Terrabuild < Formula
  desc "Seamless CI/CD tool for building and deploying monorepos."
  homepage "https://terrabuild.io"
  version "0.181.0"

  if OS.mac? && Hardware::CPU.intel?
    url "https://github.com/magnusopera/terrabuild/releases/download/0.181.0/terrabuild-0.181.0-darwin-x64.zip"
    sha256 "ffbfdd68884191ba3e962814dbf0ae6e4e0b8e47a7198bf7bae0b7a037090b18"
  end

  if OS.mac? && Hardware::CPU.arm?
    url "https://github.com/magnusopera/terrabuild/releases/download/0.181.0/terrabuild-0.181.0-darwin-arm64.zip"
    sha256 "ea318e72d462cb352730d5b5b5dd0f17bfa0253a2316aa81ece64aa4b5f60fe9"
  end

  if OS.linux? && Hardware::CPU.intel?
    url "https://github.com/magnusopera/terrabuild/releases/download/0.181.0/terrabuild-0.181.0-linux-x64.zip"
    sha256 "c923b29c17e3e9a40f4bdc4f805909e83323c4b298fd859745ee4382890387c8"
  end

  if OS.linux? && Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
    url "https://github.com/magnusopera/terrabuild/releases/download/0.181.0/terrabuild-0.181.0-linux-arm64.zip"
    sha256 "cee0566a3ddad8178e88341e593b9ca7b6e6ee717e5e52f50652739673b28781"
  end

  conflicts_with "terrabuild"
  conflicts_with "terrabuild-next"

  def install
    bin.install "terrabuild"
  end

  test do
    system "#{bin}/terrabuild version"
  end
end
