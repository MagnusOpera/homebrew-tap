# This file was generated by https://github.com/magnusopera/terrabuild/blob/main/.github/scripts/generate-homebrew-tap
class Terrabuild < Formula
  desc "Seamless CI/CD tool for building and deploying monorepos."
  homepage "https://terrabuild.io"
  version "0.185.15"

  if OS.mac? && Hardware::CPU.intel?
    url "https://github.com/magnusopera/terrabuild/releases/download/0.185.15/terrabuild-0.185.15-darwin-x64.zip"
    sha256 "e4bf5e375d76d3c1686a660680e8ad8510ab117d2d0f8aeeb16b27a30bdfaf2b"
  end

  if OS.mac? && Hardware::CPU.arm?
    url "https://github.com/magnusopera/terrabuild/releases/download/0.185.15/terrabuild-0.185.15-darwin-arm64.zip"
    sha256 "a24bc923a0d1ee1ee0011ec4535f0d624f097365fd2a7bc15e30aafbb9867b30"
  end

  if OS.linux? && Hardware::CPU.intel?
    url "https://github.com/magnusopera/terrabuild/releases/download/0.185.15/terrabuild-0.185.15-linux-x64.zip"
    sha256 "fe80985f8b222cf03039c45d8a9a8c15c2a8103ef8d5f0449aee7a0acb28acee"
  end

  if OS.linux? && Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
    url "https://github.com/magnusopera/terrabuild/releases/download/0.185.15/terrabuild-0.185.15-linux-arm64.zip"
    sha256 "d8954573879cf23cca09c94d6a3b9c97727e5a1e3150d657a5b37eb114af9cf5"
  end

  conflicts_with "terrabuild"
  conflicts_with "terrabuild-next"

  def install
    bin.install "terrabuild"
  end

  test do
    system "#{bin}/terrabuild version"
  end
end
