# This file was generated by https://github.com/magnusopera/terrabuild/blob/main/.github/scripts/generate-homebrew-tap
class Terrabuild < Formula
  desc "Seamless CI/CD tool for building and deploying monorepos."
  homepage "https://terrabuild.io"
  version "0.176.16"

  if OS.mac? && Hardware::CPU.intel?
    url "https://github.com/magnusopera/terrabuild/releases/download/0.176.16/terrabuild-0.176.16-darwin-x64.zip"
    sha256 "378ed3331d6beb6395466f4b74815e30325567e86431aa6e2832ba35444a98f6"
  end

  if OS.mac? && Hardware::CPU.arm?
    url "https://github.com/magnusopera/terrabuild/releases/download/0.176.16/terrabuild-0.176.16-darwin-arm64.zip"
    sha256 "f42e777a2ecd7f51cd66b3c324dfaecc56e18151d03587879f4d0bbb6d2e06b6"
  end

  if OS.linux? && Hardware::CPU.intel?
    url "https://github.com/magnusopera/terrabuild/releases/download/0.176.16/terrabuild-0.176.16-linux-x64.zip"
    sha256 "947cae5daed7da2bae8a7ab557fa8eef06a5ca84905859a1d6e52440d2a20fed"
  end

  if OS.linux? && Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
    url "https://github.com/magnusopera/terrabuild/releases/download/0.176.16/terrabuild-0.176.16-linux-arm64.zip"
    sha256 "2560505b56d0080d0e476bd8188f04f61eb22452bef4e8aed941a17d758336b7"
  end

  conflicts_with "terrabuild"
  conflicts_with "terrabuild-next"

  def install
    bin.install "terrabuild"
  end

  test do
    system "#{bin}/terrabuild version"
  end
end
