# This file was generated by https://github.com/magnusopera/terrabuild/blob/main/.github/scripts/generate-homebrew-tap
class Terrabuild < Formula
  desc "Seamless CI/CD tool for building and deploying monorepos."
  homepage "https://terrabuild.io"
  version "0.117.1"

  if OS.mac? && Hardware::CPU.intel?
    url "https://github.com/magnusopera/terrabuild/releases/download/0.117.1/terrabuild-0.117.1-darwin-x64.zip"
    sha256 "84e1a6b030fad1d88ccac5387ef4cf81396d9ef76b04445e3dc1c8085d0edcb4"
  end

  if OS.mac? && Hardware::CPU.arm?
    url "https://github.com/magnusopera/terrabuild/releases/download/0.117.1/terrabuild-0.117.1-darwin-arm64.zip"
    sha256 "e020cae02b18cb46228b8594915805c6769189bc9d3823a34a226dee0b736bab"
  end

  if OS.linux? && Hardware::CPU.intel?
    url "https://github.com/magnusopera/terrabuild/releases/download/0.117.1/terrabuild-0.117.1-linux-x64.zip"
    sha256 "0743e31fda2976978c3aaf3bae7ecef115e0de1269341fdbed0e530c382c5e1a"
  end

  if OS.linux? && Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
    url "https://github.com/magnusopera/terrabuild/releases/download/0.117.1/terrabuild-0.117.1-linux-arm64.zip"
    sha256 "f7603788650ef7351d886eaaa3ff32f3effd4a2d3a3708ac569ab3c9651da6aa"
  end

  conflicts_with "terrabuild"

  def install
    bin.install "terrabuild"
  end

  test do
    system "#{bin}/terrabuild version"
  end
end
