# This file was generated by https://github.com/magnusopera/terrabuild/blob/main/.github/scripts/generate-homebrew-tap
class Terrabuild < Formula
  desc "Seamless CI/CD tool for building and deploying monorepos."
  homepage "https://terrabuild.io"
  version "0.163.1"

  if OS.mac? && Hardware::CPU.intel?
    url "https://github.com/magnusopera/terrabuild/releases/download/0.163.1/terrabuild-0.163.1-darwin-x64.zip"
    sha256 "1b99172f7fe0a530e5a9352c1837fa396885ad62e0f3ca09786adb371643a8bf"
  end

  if OS.mac? && Hardware::CPU.arm?
    url "https://github.com/magnusopera/terrabuild/releases/download/0.163.1/terrabuild-0.163.1-darwin-arm64.zip"
    sha256 "bcd890704819effe03961fbc36eb3aa4d939cf86b0b0ab98bac0e7b5411de1e2"
  end

  if OS.linux? && Hardware::CPU.intel?
    url "https://github.com/magnusopera/terrabuild/releases/download/0.163.1/terrabuild-0.163.1-linux-x64.zip"
    sha256 "e06ae600526be564431b0654c47bf418a9815aa7f72dbaff51fae527203a1500"
  end

  if OS.linux? && Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
    url "https://github.com/magnusopera/terrabuild/releases/download/0.163.1/terrabuild-0.163.1-linux-arm64.zip"
    sha256 "cba217287d458c330b7da18d487088586f0c8011a019934b311a8565316db97f"
  end

  conflicts_with "terrabuild"
  conflicts_with "terrabuild-next"

  def install
    bin.install "terrabuild"
  end

  test do
    system "#{bin}/terrabuild version"
  end
end
