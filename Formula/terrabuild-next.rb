# This file was generated by https://github.com/magnusopera/terrabuild/blob/main/.github/scripts/generate-homebrew-tap
class TerrabuildNext < Formula
  desc "Seamless CI/CD tool for building and deploying monorepos."
  homepage "https://terrabuild.io"
  version "0.175.0-next"

  if OS.mac? && Hardware::CPU.intel?
    url "https://github.com/magnusopera/terrabuild/releases/download/0.175.0-next/terrabuild-0.175.0-next-darwin-x64.zip"
    sha256 "d8b5a80ce3edc9b76ab36a59da57db2e110749c56030c9537e64a78297cefff5"
  end

  if OS.mac? && Hardware::CPU.arm?
    url "https://github.com/magnusopera/terrabuild/releases/download/0.175.0-next/terrabuild-0.175.0-next-darwin-arm64.zip"
    sha256 "ac8c073076c637bf8104b54d01119688bd22ce8ffd3d40c4909da82878eb5eb9"
  end

  if OS.linux? && Hardware::CPU.intel?
    url "https://github.com/magnusopera/terrabuild/releases/download/0.175.0-next/terrabuild-0.175.0-next-linux-x64.zip"
    sha256 "8be91f087f14efa4c5250250bf4dc094744686d3a9b82e821ad7a8937ba7f273"
  end

  if OS.linux? && Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
    url "https://github.com/magnusopera/terrabuild/releases/download/0.175.0-next/terrabuild-0.175.0-next-linux-arm64.zip"
    sha256 "65d6841510f02f6e0d4b150fd596fab88c0f251db54a16eb84e4c0fb3f74d079"
  end

  conflicts_with "terrabuild"
  conflicts_with "terrabuild-next"

  def install
    bin.install "terrabuild"
  end

  test do
    system "#{bin}/terrabuild version"
  end
end
