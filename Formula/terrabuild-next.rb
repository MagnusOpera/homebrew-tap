# This file was generated by https://github.com/magnusopera/terrabuild/blob/main/.github/scripts/generate-homebrew-tap
class TerrabuildNext < Formula
  desc "Seamless CI/CD tool for building and deploying monorepos."
  homepage "https://terrabuild.io"
  version "0.178.3-next"

  if OS.mac? && Hardware::CPU.intel?
    url "https://github.com/magnusopera/terrabuild/releases/download/0.178.3-next/terrabuild-0.178.3-next-darwin-x64.zip"
    sha256 "85d12e465fbf5c03ad31108450bfb1c5930aa134b32a7c8aedc7ea035d507f77"
  end

  if OS.mac? && Hardware::CPU.arm?
    url "https://github.com/magnusopera/terrabuild/releases/download/0.178.3-next/terrabuild-0.178.3-next-darwin-arm64.zip"
    sha256 "176bc032fc618021715c30e10dfd470a8996ad67d8b4fe986655a592ef41e847"
  end

  if OS.linux? && Hardware::CPU.intel?
    url "https://github.com/magnusopera/terrabuild/releases/download/0.178.3-next/terrabuild-0.178.3-next-linux-x64.zip"
    sha256 "ea2ed18194faec3fa06233af4053dd2de38bd63943b4fdd04a51cf982fff104c"
  end

  if OS.linux? && Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
    url "https://github.com/magnusopera/terrabuild/releases/download/0.178.3-next/terrabuild-0.178.3-next-linux-arm64.zip"
    sha256 "918f2b44f7dbdf769784169b7969128af953547cc505968cd42d2b3399d604f9"
  end

  conflicts_with "terrabuild"
  conflicts_with "terrabuild-next"

  def install
    bin.install "terrabuild"
  end

  test do
    system "#{bin}/terrabuild version"
  end
end
