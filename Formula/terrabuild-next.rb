# This file was generated by https://github.com/magnusopera/terrabuild/blob/main/.github/scripts/generate-homebrew-tap
class TerrabuildNext < Formula
  desc "Seamless CI/CD tool for building and deploying monorepos."
  homepage "https://terrabuild.io"
  version "0.174.7-next"

  if OS.mac? && Hardware::CPU.intel?
    url "https://github.com/magnusopera/terrabuild/releases/download/0.174.7-next/terrabuild-0.174.7-next-darwin-x64.zip"
    sha256 "a3bf253aa7efd9a4b84ca3a27bc8e8a7aa3cdb97d5c91b07def3c97ccb13864a"
  end

  if OS.mac? && Hardware::CPU.arm?
    url "https://github.com/magnusopera/terrabuild/releases/download/0.174.7-next/terrabuild-0.174.7-next-darwin-arm64.zip"
    sha256 "fdc551bba6d04394002be11367def8fbd7a55230e5cc05bcc69c15029faee1e5"
  end

  if OS.linux? && Hardware::CPU.intel?
    url "https://github.com/magnusopera/terrabuild/releases/download/0.174.7-next/terrabuild-0.174.7-next-linux-x64.zip"
    sha256 "e96e288d85cb54f123e4e4a049565e41893b1143c97fc2fdac0d3b8f4057e51e"
  end

  if OS.linux? && Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
    url "https://github.com/magnusopera/terrabuild/releases/download/0.174.7-next/terrabuild-0.174.7-next-linux-arm64.zip"
    sha256 "fc0bc4b4dd18830e39b7e062351e528e0ff78c9a47b8fbdf8ce418394f893166"
  end

  conflicts_with "terrabuild"
  conflicts_with "terrabuild-next"

  def install
    bin.install "terrabuild"
  end

  test do
    system "#{bin}/terrabuild version"
  end
end
